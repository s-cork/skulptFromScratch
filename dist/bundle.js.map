{"version":3,"file":"bundle.js","sources":["../main.ts"],"sourcesContent":["// export { GeneratedParser } from \"./src/parser/generated_parser\";\n// export { tokenize } from \"./src/parser/tokenize\";\n// export { readline, Tokenizer } from \"./src/parser/Tokenizer\";\n\n// export * as foo from \"./src/util/String\";\n\n// import { __exportStar } from \"./.yarn/cache/tslib-npm-2.1.0-81c9ac9b82-d8f5bdd067.zip/node_modules/tslib/tslib\";\n// // export {bar} from \"./internal\"\n\n// import {tp$repr, tp$new, tp$methods, nb$bool} from \"./src/util/symbols\";\n\n// function ___buildNativeClass(name: string): Function {\n//     console.log('native class called')\n//     return function(constructor: Function) {\n//         debugger;\n//         console.log('native class done');\n//         return constructor\n//     }\n// }\n\n\n// function method(flags, docstring, textsignature) {\n//     console.log('method called')\n//     return function (\n//         target,\n//         propertyKey: string,\n//         descriptor: PropertyDescriptor\n//     ) {\n//         debugger;\n//         const meth = descriptor.value;\n//         meth.flags = flags;\n//         meth.docstring = docstring;\n//         meth.textsignature = textsignature;\n//         console.log('method done')\n//     }\n// }\n\n// function classmethod(flags, docstring, textsignature) {\n//     console.log('method called')\n//     return function (\n//         target,\n//         propertyKey: string,\n//         descriptor: PropertyDescriptor\n//     ) {\n//         debugger;\n//         const meth = descriptor.value;\n//         meth.flags = flags;\n//         meth.docstring = docstring;\n//         meth.textsignature = textsignature;\n//         console.log('method done')\n//     }\n// }\n\n// function prop(target, key) {\n//     target[key] = 1;\n// }\n\n// function getset(...decargs) {\n//     debugger;\n//     return function (...args) {\n//         debugger;\n//     }\n// }\n\n// function _getset(...args) {\n//     debugger;\n// }\n\n// function test(...args) {\n//     return args;\n// }\n\n// @___buildNativeClass(\"NoneType\")\n// class ___pyNoneType {\n//     constructor() {\n//         // return pyNone;\n//     }\n//     valueOf(): null {\n//         return null;\n//     }\n\n//     @method({NoArgs: true}, 'this is a docstring foo', 'bar')\n//     foo() {\n//         return 'bar'\n//     }\n\n//     @classmethod({NoArgs: true}, 'this is a docstring foo', 'bar')\n//     bar() {\n\n//     }\n\n//     @getset(\"some doc string\")\n//     get __class__() {\n//         this.name();\n//         return 'foo'\n//     }\n//     set __class__(v) {\n//     }\n\n//     @prop\n//     eggs;\n\n//     public name() {\n//         console.log('foo')\n//     }\n\n// }\n\n// export const ___pyNone: ___pyNoneType = Object.create(___pyNoneType.prototype);\n\n\nfunction suspensionChain(...chainedFns: CallableFunction[]) {\n    let i = 0;\n    const numChained = chainedFns.length;\n    let value: any;\n    try {\n        while (i < numChained) {\n            value = chainedFns[i++](value);\n        }\n        return value;\n    } catch (err) {\n        Suspension.handleOrReject(err, (child) => {\n            throw new Suspension(() => suspensionChain(() => child.resume(), ...chainedFns.slice(i)), child);\n        });\n    }\n}\n\nfunction suspensionTryCatch(suspendableFn: CallableFunction, errHandler: (err: any) => any) {\n    try {\n        return suspendableFn();\n    } catch (err) {\n        return Suspension.handleOrReject(\n            err,\n            (child) => {\n                throw new Suspension(() => suspensionTryCatch(() => child.resume(), errHandler), child);\n            },\n            errHandler\n        );\n    }\n}\n\nfunction suspensionIter(iterator: IterableIterator<any>, callback: (value: any) => void, prevIter?: IteratorYieldResult<any>): void {\n    try {\n        let next = prevIter || iterator.next();\n        while (!next.done) {\n            callback(next.value);\n            next = iterator.next();\n        }\n    } catch (err) {\n        Suspension.handleOrReject(\n            err,\n            (child) => {\n                throw new Suspension(\n                    () =>\n                        suspensionChain(\n                            () => child.resume(),\n                            (iterResult: IteratorYieldResult<any>) => suspensionIter(iterator, callback, iterResult)\n                        ),\n                    child\n                );\n            },\n            (err) => {\n                if (err instanceof Break) {\n                    return err.brValue;\n                }\n                throw err;\n            }\n        );\n    }\n}\n\nfunction forceResume(suspendableFn: CallableFunction, msg?: string): any {\n    try {\n        suspendableFn();\n    } catch (err) {\n        Suspension.handleOrReject(err, (susp) => {\n            if (!susp.data.optional) {\n                msg ||= \"Cannot call a function that blocks or suspends here\";\n                throw new SuspensionError(msg);\n            }\n            return susp.resume();\n        });\n    }\n}\n\nclass SuspensionError extends Error {}\n\nlet i: number = 0;\nconst suspendingIterator: any = {\n    next() {\n        return promiseToSuspension(\n            new Promise((resolve) => {\n                console.log(\"iterating\");\n                setTimeout(() => resolve({ done: i > 3, value: i++ }), 1000);\n            })\n        );\n    },\n};\n\nclass Break {\n    brValue: any;\n    constructor(brValue: any) {\n        this.brValue = brValue;\n    }\n}\n\ninterface SuspensionData {\n    type: string;\n    promise?: Promise<any>;\n    optional?: boolean;\n    error?: any;\n    result?: any;\n}\n\nclass Suspension {\n    resume: CallableFunction;\n    child: null | Suspension;\n    data: SuspensionData;\n    store: { [vars: string]: any };\n    constructor(resume?: CallableFunction, child?: null | Suspension, data?: SuspensionData, store?: { [vars: string]: any }) {\n        this.resume = resume || (() => {});\n        this.child = child || null;\n        this.data = data || child?.data || { type: \"unknown\" };\n        this.store = store || {};\n    }\n    suspend(): never {\n        throw this;\n    }\n\n    resumeAsync(this: Suspension, handleSuspension: (susp: Suspension) => void, resolve: (res: any) => void, reject: (err: any) => void) {\n        try {\n            resolve(this.resume());\n        } catch (maybeSuspension) {\n            Suspension.handleOrReject(maybeSuspension, handleSuspension, reject);\n        }\n    }\n\n    static handleOrReject(\n        maybeSuspension: any,\n        handleSuspension: (susp: Suspension) => void,\n        reject: (err: any) => void = (err) => {\n            throw err;\n        }\n    ) {\n        if (maybeSuspension instanceof Suspension) {\n            return handleSuspension(maybeSuspension);\n        } else {\n            return reject(maybeSuspension);\n        }\n    }\n\n    static suspendAsync(suspendableFn: CallableFunction, handleSuspension: (susp: Suspension) => void, resolve: (res: any) => void, reject: (err: any) => void) {\n        try {\n            resolve(suspendableFn());\n        } catch (maybeSuspension) {\n            Suspension.handleOrReject(maybeSuspension, handleSuspension, reject);\n        }\n    }\n}\n\nfunction promiseToSuspension(promise: Promise<any>): void {\n    const susp = new Suspension(\n        () => {\n            if (susp.data.error) {\n                throw susp.data.error;\n            }\n            return susp.data.result;\n        },\n        null,\n        {\n            type: \"promise\",\n            promise,\n        }\n    );\n    susp.suspend();\n}\n\nconst pyNone = {\n    toString() {\n        return \"None\";\n    },\n};\n\nfunction sleep(delay: number): void {\n    return promiseToSuspension(\n        new Promise((resolve) => {\n            setTimeout(() => {\n                console.log(`finished sleep after ${delay} seconds`);\n                resolve(pyNone);\n            }, delay * 1000);\n        })\n    );\n}\n\nfunction asyncToPromise(suspendableFn: CallableFunction, suspHandler?: (susp?: Suspension) => Promise<any> | void) {\n    return new Promise((resolve, reject) => {\n        function handleSuspension(susp: Suspension) {\n            if (suspHandler) {\n                const handlerPromise = suspHandler(susp);\n                if (handlerPromise) {\n                    handlerPromise.then(resolve, (err) => Suspension.handleOrReject(err, handleSuspension, reject));\n                    return;\n                }\n            }\n            const { type, promise, optional } = susp.data;\n            if (type === \"promise\") {\n                (promise as Promise<any>).then(\n                    (res: any) => {\n                        susp.data.result = res;\n                        susp.resumeAsync(handleSuspension, resolve, reject);\n                    },\n                    (err: any) => {\n                        susp.data.error = err;\n                        susp.resumeAsync(handleSuspension, resolve, reject);\n                    }\n                );\n            } else if (optional) {\n                susp.resumeAsync(handleSuspension, resolve, reject);\n            } else {\n                reject(new SuspensionError(\"unhandled supsension\"));\n            }\n        }\n        Suspension.suspendAsync(suspendableFn, handleSuspension, resolve, reject);\n    });\n}\n\ninterface Scope {\n    (): any;\n    $susp?: Suspension;\n}\n\nconst $scope0: Scope = function $scope0() {\n    let $loc: { [vars: string]: any } = {};\n    let $blk = 0;\n    let $exc: any = [];\n    let $err: any;\n    $loc.__file__ = \"<?>\";\n    let $ret;\n    const $wake = () => {\n        console.log(\"waking\");\n        let susp = $scope0.$susp as Suspension;\n        //@ts-ignore\n        ({ $loc, $blk, $exc, $err } = susp.store);\n        try {\n            $ret = (susp.child as Suspension).resume();\n        } catch (err) {\n            Suspension.handleOrReject(err, (susp: Suspension) => {\n                $save(susp);\n            });\n        }\n\n        $scope0.$susp = undefined;\n    };\n\n    const $save = (child: Suspension) => {\n        console.log(\"saving\");\n        const susp = new Suspension(\n            () => {\n                $scope0.$susp = susp;\n                return $scope0();\n            },\n            child,\n            child.data,\n            { $blk, $loc, $exc, $err }\n        );\n        susp.suspend();\n    };\n\n    if ($scope0.$susp) {\n        $wake();\n    }\n\n    while (true) {\n        try {\n            switch ($blk) {\n                case 0:\n                    $loc.x = 0;\n                    console.log(`x = ${$loc.x}`);\n                    $blk = 1;\n                case 1:\n                    $loc.x += 1;\n                    console.log(`x = ${$loc.x}`);\n                    // handle suspension\n                    $blk = 2;\n                    $ret = sleep(2);\n                case 2:\n                    $loc.y = $ret;\n                    console.log(`sleep returned ${$loc.y}`);\n                    $blk = 3;\n                case 3:\n                    $loc.x += 1;\n                    console.log(`x = ${$loc.x}`);\n                    // handle suspension\n                    $blk = 4;\n                    $ret = sleep(3);\n                case 4:\n                    $loc.y = $ret;\n                    console.log(`sleep returned ${$loc.y}`);\n                    $blk = 5;\n                case 5:\n                    $loc.x += 1;\n                    console.log(`x = ${$loc.x}`);\n                    $blk = 6;\n                case 6:\n                    $blk = 7;\n                    $ret = suspensionChain(\n                        () => sleep(1),\n                        () => {\n                            $loc.x += 1;\n                            return pyNone;\n                        }\n                    );\n                case 7:\n                    $loc.y = $ret;\n                    console.log(`x=${$loc.x}, y=${$loc.y}`);\n                    $blk = 8;\n                case 8:\n                    $blk = 9;\n                    suspensionIter(suspendingIterator, (i) => {\n                        console.log(i);\n                        $loc.x += i;\n                    });\n                case 9:\n                    console.log(`x=${$loc.x}, y=${$loc.y}`);\n                    $blk = 10;\n                    $ret = foo();\n                case 10:\n                    console.log($ret);\n                    return \"done\";\n            }\n        } catch (err) {\n            Suspension.handleOrReject(err, (susp: Suspension) => {\n                $save(susp);\n            });\n        }\n    }\n};\n$scope0.$susp = undefined;\n\nconst r: Promise<any> = asyncToPromise($scope0);\nr.then(\n    (res) => {\n        console.log(res);\n    },\n    (err) => {\n        console.error(err);\n    }\n);\n\nfunction foo() {\n    return suspensionChain(\n        () => bar(),\n        () => 4\n    );\n}\n\nfunction bar() {\n    return suspensionChain(() => sleep(1));\n}"],"names":[],"mappings":"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"}